!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Papa=t()}(this,function(){"use strict";var f="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==f?f:{};var n,o,h,i,r={},s=r.Papa={};s.parse=s.unparse=s.Parser=s.DefaultDelimiter=null,s.LocalChunkSize=1024*1024*10,s.RemoteChunkSize=1024*1024*5,s.DefaultDelimiter=",",s.BAD_DELIMITERS=["\r","\n",'"',s.DefaultDelimiter],s.WORKERS_SUPPORTED=!1,s.NODE_STREAM_INPUT=1,s.LocalFile=void 0,s.FileReader=void 0,s.JSON_TYPE="application/json",s.EMPTY=1,s.INVALID=2,s.DELIMITER=3,s.NEWLINE=4,s.parse=function(e,t){var i=(t=t||{}).dynamicTyping||!1;g(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!g(t.transform)&&t.transform,t.worker&&s.WORKERS_SUPPORTED){var r=function(){if(!s.WORKERS_SUPPORTED){return!1}var e=(i=f.URL||f.webkitURL||null,r=s.SCRIPT_PATH,r?r+(r.indexOf("?")!==-1?"&":"?")+"papaworker":null),t=new f.Worker(e);var i,r;return t.onmessage=_,t.id=v++,w[t.id]=t,t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=g(t.step),t.chunk=g(t.chunk),t.complete=g(t.complete),t.error=g(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;s.NODE_STREAM_INPUT,"string"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&g(e.read)&&g(e.on)?n=new m(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},s.unparse=function(e,t){var n=!1,_=!0,f=",",m="\r\n",c='"',p=c+c,l=!1,h=null,d=!1;!function(){if("object"!=typeof t){return}"string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter(function(e){return t.delimiter.indexOf(e)!==-1}).length||(f=t.delimiter);("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(l=t.skipEmptyLines);"string"==typeof t.newline&&(m=t.newline);"string"==typeof t.quoteChar&&(c=t.quoteChar);"boolean"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length){throw new Error("Option columns is empty")}h=t.columns}void 0!==t.escapeChar&&(p=t.escapeChar+c);"boolean"==typeof t.escapeFormulae&&(d=t.escapeFormulae)}();var u=new RegExp(y(c),"g");"string"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0])){return i(null,e,l)}if("object"==typeof e[0]){return i(h||Object.keys(e[0]),e,l)}}else if("object"==typeof e){return "string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:Object.keys(e.data[0])),Array.isArray(e.data[0])||"object"!=typeof e.data[0]||(e.data=e.data.map(function(e){return Object.keys(e).map(function(t){return e[t]})}))),i(e.fields||[],e.data||[],l)}throw new Error("Unable to serialize unrecognized input");function i(e,t,i){var r="";0<e.length&&_&&(r+=o(e)+m);for(var n=0;n<t.length;n+=1){0<n&&(r+=m);var s=e,a=t[n];if(Array.isArray(a)){s=a}else if("object"==typeof a){if(s=h,!s){s=Object.keys(a);for(var l=0;l<s.length;l+=1){s[l]=a[s[l]]}}else{for(l=0;l<s.length;l+=1){s[l]=a[s[l]]}}}if(!l||!b(s)){r+=o(s)}}return r}function o(e){for(var t=[],i=0;i<e.length;i+=1){var r=i,o=e[r],s="string"==typeof o;s&&h&&(o=v(o));var a="string"==typeof o&&o.indexOf(c)!==-1;if(s&&(l||o.indexOf(f)!==-1||o.indexOf(m)!==-1||o.indexOf(c)!==-1||0<o.length&&" "===o[0]||0<o.length&&" "===o[o.length-1])){o=c+w(o)+c}else if("number"==typeof o){var l=n&&("boolean"==typeof n&&n||"function"==typeof n&&n(o)||Array.isArray(n)&&n[r]);o=l?c+String(o)+c:String(o)}else if("boolean"==typeof o){o=n&&("boolean"==typeof n&&n||"function"==typeof n&&n(o)||Array.isArray(n)&&n[r])?c+String(o)+c:String(o)}else if("object"==typeof o){if(null===o){o=""}else if(o instanceof Date){o=JSON.stringify(o).slice(1,25)}else{var h=!1;try{h=JSON.stringify(o)}catch(e){h=!1}o=h||""}}void 0===o&&(o=""),d&&s&&(o=k(o)),t.push(o)}return t.join(f)}function v(e){return h[e]||e}function w(e){return e.replace(u,p)}function k(e){var t=e.charAt(0);return "="===t||"+"===t||"-===t||"@ "===t?"\t "+e:e}function b(e){for(var t=0;t<e.length;t++)if(""!==e[t]&&null!=e[t])return!1;return!0}};function a(e){return"function "==typeof e}function y(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){return"function "==typeof e}return s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff ",s.BAD_DELIMITERS=["\r ","\n ",'"',s.DefaultDelimiter],s.WORKERS_SUPPORTED=!1,s.NODE_STREAM_INPUT=1,s.LocalFile=void 0,s.FileReader=void 0,s.JSON_TYPE="application/json",s.EMPTY=1,s.INVALID=2,s.DELIMITER=3,s.NEWLINE=4,s});
;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Fuse=t()}(this,function(){"use strict";function e(e){return(e=e).normalize?e.normalize("NFD").replace(t,""):e}const t=/[\u0300-\u036f]/g;function n(e,t){if("string"!=typeof e||"string"!=typeof t){throw new TypeError("Expected the arguments to be of type `string`")}if(""===t){return 0}if(e===t){return 1}const n=e.length,r=t.length;if(n===0){return r}if(r===0){return n}const i=[];let o,s,c,a,h;for(o=0;o<=r;o+=1){i[o]=[o]}for(s=0;s<=n;s+=1){i[0][s]=s}for(o=1;o<=r;o+=1){for(c=t.charCodeAt(o-1),s=1;s<=n;s+=1){a=e.charCodeAt(s-1),h=c===a?0:1,i[o][s]=Math.min(i[o-1][s]+1,i[o][s-1]+1,i[o-1][s-1]+h)}if(o>1&&s>1&&c===e.charCodeAt(s-2)&&t.charCodeAt(o-2)===a&&(i[o][s]=Math.min(i[o][s],i[o-2][s-2]+h)),n===r&&o===r){return i[r][n]}let u=Math.min(...i[o]);if(u>=5){return n}}return i[r][n]}function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function i(e){return "string"==typeof e}function o(e){return "number"==typeof e}function s(e){return!0===e||!1===e||function(e){return c(e)&&null!==e}(e)&&"[object Boolean]"==Object.prototype.toString.call(e)}function c(e){return "object"==typeof e}function a(e){return null!=e}function h(e){return!e.trim().length}const u={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],i=!1;const o=(e,t,s)=>{if(a(e)){if(t[s]){const c=e[t[s]];if(!a(c)){return}if(s===t.length-1&&(i(c)||o(c))&&(i(c)?n.push(function(e){return null==e?"":function(e){if("string"==typeof e){return e}let t=e+"";return t}(e)}(c)):n.push(c)),r(c)){i=!0;for(let e=0,n=c.length;e<n;e+=1){o(c[e],t,s+1)}}}else{n.push(e)}}};return o(e,i(t)?t.split("."):t,0),i?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};class l{constructor(e={}){this._keyStore=new Map,this._keys=[],this._keyNames=[],this._keyWeights={},this._keyIds=new Map,this.setKeys(e.keys)}get(e){return this._keyStore.get(e)}keys(){return this._keys}count(){return this._keys.length}add(e){let t=this.count();this._keys.push(e),this._keyNames.push(e.name),this._keyWeights[e.id]=e.weight,this._keyStore.set(e.id,e),this._keyIds.set(e.name,t)}setKeys(e=[]){this._keys.length=0,this._keyNames.length=0,this._keyStore.clear(),this._keyIds.clear();for(let t=0,n=e.length;t<n;t+=1){let n=e[t];this.add(d(n,t))}}}function d(e,t){let n=null,r=null,o=null,s=1,c=null;if(i(e)||r(e)){o=e,n=f(e),r=p(e)}else{if(!Object.prototype.hasOwnProperty.call(e,"name")){throw new Error(function(e){return `Missing ${ e } property in key`}("name"))}const a=e.name;if(o=a,Object.prototype.hasOwnProperty.call(e,"weight")&&(s=e.weight,s<=0)){throw new Error(function(e){return `Property 'weight' in key '${ e }' must be a positive integer`}(a))}n=f(a),r=p(a),c=e.getFn}return{path:n,id:r,weight:s,src:o,getFn:c}}function f(e){return r(e)?e:e.split(".")}function p(e){return r(e)?e.join("."):e}const g={useExtendedSearch:!1,getFn:function(e,t){let n=[],i=!1;const o=(e,t,s)=>{if(a(e)){if(t[s]){const c=e[t[s]];if(!a(c)){return}if(s===t.length-1&&(i(c)||o(c))&&(i(c)?n.push(function(e){return null==e?"":function(e){if("string"==typeof e){return e}let t=e+"";return t}(e)}(c)):n.push(c)),r(c)){i=!0;for(let e=0,n=c.length;e<n;e+=1){o(c[e],t,s+1)}}}else{n.push(e)}}};return o(e,i(t)?t.split("."):t,0),i?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};function m(t={}){const{ignoreLocation:n=g.ignoreLocation,ignoreFieldNorm:r=g.ignoreFieldNorm,fieldNormWeight:i=g.fieldNormWeight,...s}=t;return{...s,ignoreLocation:n,ignoreFieldNorm:r,fieldNormWeight:i}}class v{constructor(e,t={},n){this.options={...u,...t},this.options.useExtendedSearch,this._keyStore=new l(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof l)){throw new Error("Incorrect 'index' type")}this._myIndex=t||this._createIndex()}_createIndex(){return new l}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:s}=this.options;let c=i?[]:new Set,a=0;if(i(e)){e.trim().split(/\s+/).forEach(e=>{const t=this._searchStringList(e);t.forEach(e=>{const{item:t,idx:n,...r}=e;c.includes(t)||c.push({item:t,idx:n,...r})})}),i&&(c=c.sort(o))}else{const t=this._searchStringList(e);i?c=t.sort(o):c=new Set(t)}const h=i?c:Array.from(c),u=h.length;if(t&&t>0&&(h.length=Math.min(t,u)),this._format(h,{includeMatches:n,includeScore:r,ignoreFieldNorm:s}),i){for(let e=0,t=h.length;e<t;e+=1){h[e].idx=a++}h.sort((e,t)=>e.idx-t.idx)}return{items:h.slice(),total:u}}_searchStringList(e){const t=e.trim();if(!t.length){return[]}let n=null;if(this.options.useExtendedSearch){const r=function(e){const t=Object.keys(e),n=new RegExp(`^(?:${t.join("|")}):(.*)$`);return e=>{const t=e.match(n);return t?[t[1],e.slice(t[1].length+t[0].length-t[1].length)]:[e,""]}}({});n=r(t)}const r=this._myIndex.keys,i=this._myIndex.records,o=[];for(let t=0,s=i.length;t<s;t+=1){const s=i[t];if(!a(s)){continue}for(let i=0,c=r.length;i<c;i+=1){const c=r[i];let a=this._getMatches(s,c,e,n);a.length&&o.push({idx:t,item:s,matches:a})}}return o}_getMatches(t,n,r,i){const o=[];let s=n.getFn?n.getFn(t):this.options.getFn(t,n.path);if(!a(s)){return o}if(r(s)){s.forEach((t,s)=>{if(!a(t)){return}let c=null;if(i){const[e,o]=i(r);c=this._searchLogical(e,t,o)}else{c=this._searchText(r,t)}c.isMatch&&o.push({...c,arrayIndex:s})})}else{let t=null;if(i){const[e,n]=i(r);t=this._searchLogical(e,s,n)}else{t=this._searchText(r,s)}t.isMatch&&o.push(t)}return o}_searchText(t,r){const i=e(r),o=e(t),s=i.indexOf(o);if(-1!==s){const e=n(t,r);return{isMatch:!0,score:e,start:s,end:s+o.length-1}}return{isMatch:!1,score:1}}_searchLogical(){return{isMatch:!1,score:1}}_format(e,{includeMatches:t=this.options.includeMatches,includeScore:n=this.options.includeScore,ignoreFieldNorm:r=this.options.ignoreFieldNorm}={}){const i=[];return t&&i.push((e,t)=>{t.matches=e.matches}),n&&i.push((e,t)=>{t.score=e.score}),e.forEach(e=>{const{idx:t}=e,n={item:this._docs[t],refIndex:t};i.length&&i.forEach(t=>t(e,n)),e.push(n)}),e}setIndex(e){this._myIndex=e}getIndex(){return this._myIndex}}return v.version="6.6.2",v.createIndex=function(e=[]){return new l({keys:e})},v.parseIndex=function(e,t={}){const{getFn:n=g.getFn,fieldNormWeight:r=g.fieldNormWeight}=t,i=e.keys,o=e.records,s=new l({keys:i});return s.setIndexRecords(o),new v([],{...t,getFn:n,fieldNormWeight:r},s)},v.config=u,v.parseQuery=function(e){return function(e,t={}){return e.split("|").map(e=>{let n=e.trim().split(y).filter(e=>e&&!!e.trim()),r=[];for(let e=0,i=n.length;e<i;e+=1){const i=n[e];let o=!1,s=-1;for(;!o&& ++s<_.length;){const e=_[s];let n=e.pattern.exec(i);if(n){let i=n[e.idx];r.push({$and:[{[e.key]:t.isCaseSensitive?i:i.toLowerCase()}]})},o=!0}}return{$and:r}})}(e)},v});